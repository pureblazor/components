@inherits PureButtonBase

@if (Loading)
{
    <button
        id="@Id"
        type="@(ButtonType == ButtonType.Submit ? "submit" : "button")"
        aria-label="@Label"
        name="@Name"
        title="@Title"
        class="@ApplyStyle(InternalCss)"
        value="@Value"
        @onclick:stopPropagation="@(!PropagateClicks)" @onclick:preventDefault="@(!PropagateClicks)">
        <PureIcon Icon="IconOpenCircle" Animate="PureAnimate.Spin" Size="PureSize.Small"></PureIcon>
        @if (LoadingText is not null)
        {
            @LoadingText
        }
        else
        {
            if (ChildContent is not null)
            {
                @ChildContent
            }
            else
            {
                @Text
            }
        }

    </button>
}
else
{
    <button
        id="@Id"
        type="@(ButtonType == ButtonType.Submit ? "submit" : "button")"
        aria-label="@Label"
        name="@Name"
        title="@Title"
        value="@Value"
        class="@ApplyStyle(InternalCss)"
        disabled="@Disabled"
        @onclick="OnClicked"
        @onclick:stopPropagation="@(!PropagateClicks)" @onclick:preventDefault="@(!PropagateClicks)">
        @if (LeftIcon is not null)
        {
            <PureIcon Icon="(PureIcons)LeftIcon" Size="Size"/>
        }
        @if (ChildContent is not null)
        {
            @ChildContent
        }
        else
        {
            @Text
        }
        @if (RightIcon is not null)
        {
            <PureIcon Icon="(PureIcons)RightIcon" Size="Size"/>
        }
    </button>
}
